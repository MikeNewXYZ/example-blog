---
import ky from "ky";

type SiteMetadata = {
	data: {
		site_metadata_title: string;
		site_metadata_description: string;
		site_metadata_keywords: string[];
	};
};

const response = await ky<SiteMetadata>(
	"https://cms.cramlington-community-chess-club.com/items/global_settings",
).json();

const {
	site_metadata_title: title,
	site_metadata_description: description,
	site_metadata_keywords: keywords,
} = response.data;
---

<html lang="en">
	<head>
		<meta charset="utf-8" />
		<link rel="icon" type="image/svg+xml" href="/favicon.svg" />
		<meta name="viewport" content="width=device-width" />
		<meta name="generator" content={Astro.generator} />
		<title>Astro</title>
	</head>
	<body>
		<h1>{title}</h1>
		<p>{description}</p>
		<p>{keywords.join(" ")}</p>
	</body>
</html>
